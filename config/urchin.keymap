#define HOST_OS 2 // macOS

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>
#include <zmk-helpers/helper.h>
#include <zmk-helpers/key-labels/34.h>

// Layers
#define BASE 0
#define NUM 1
#define SYM 2 
#define NAV 3
#define FN 4
#define SYS 5

#include "modules/globals.dtsi"
#include "modules/hrm.dtsi"
#include "modules/behaviors.dtsi"
#include "modules/combos.dtsi"
#include "modules/macros.dtsi"

// Shorter names
#define NAV_LEFT  &mt_home 0   LEFT            // Tap: left  | Long-tap: start of line.
#define NAV_RIGHT &mt_end 0    RIGHT           // Tap: right | Long-tap: end   of line.
#define NAV_UP    &mt LC(HOME) UP              // Tap: up    | Long-tap: start of doc.
#define NAV_DOWN  &mt LC(END)  DOWN            // Tap: down  | Long-tap: end   of doc.
#define MT_BSPC  &mt LC(BSPC) BSPC             // tap: bspc | long-tap: delete word backward
#define MT_DEL   &mt LC(DEL)  DEL              // Tap: del   | Long-tap: delete word fwd.
#define CANCEL    &kp K_CANCEL                 // Cancel caps-word & auto-layers.
#define WIN_CYCLE &kp LG(GRAVE)                // Cycle through windows.
#define WIN_CYCLE_REV &hml LCTRL LG(LS(GRAVE)) // Cycle through windows in reverse.
#define VOL_DOWN  &hml LGUI C_VOL_DN           // Volume down.
#define PLAY_PAUSE &hml LSHIFT C_PP            // Play/pause.
#define MUTE &hml LALT C_MUTE                  // Mute.
#define ALFRED &kp LG(SPACE)
#define TRANSLATE &kp LA(SPACE)
#define CHATGPT &kp LS(LA(SPACE))
#define GO_BACK &kp LG(LBKT)
#define GO_FORWD &kp LG(RBKT)

ZMK_LAYER(Base,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮ ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    &kp Q         &kp W         &kp E         &kp R         &kp T           &kp Y         &kp U         &kp I         &kp O         &kp P        
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &hml LCTRL A &hml LALT S   &hml LGUI D   &hml LSHIFT F  &kp G           &kp H        &hmr RSHIFT J &hmr RGUI K   &hmr RALT L   &hmr RCTRL SQT
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &kp Z         &kp X         &kp C         &kp V         &kp B           &kp N         &kp M         &comma_morph  &dot_morph    &qexcl       
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              &lt SYM RET   &lt NUM TAB     &lt_spc NAV 0  MT_BSPC
//                                          ╰─────────────┴─────────────╯ ╰─────────────┴─────────────╯
)

ZMK_LAYER(Num,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮ ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    XXX           XXX           XXX           XXX           XXX             XXX           &kp N7        &kp N8         &kp N9       XXX          
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &sk LCTRL     &sk LALT      &sk LGUI      &sk LSHIFT    XXX            XXX          &hmr RSHIFT N4 &hmr RGUI N5 &hmr RALT N6  &hmr RCTRL N0
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    XXX           XXX           XXX           XXX           XXX             XXX           &kp N1        &kp N2        &kp N3        XXX         
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              ___           ___             ___           ___
//                                          ╰─────────────┴─────────────╯ ╰─────────────┴─────────────╯
)


ZMK_LAYER(Sym,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮   ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    &kp GRAVE     XXX            XXX           XXX           &kp LPAR         &kp RPAR      &kp AMPS      &kp ASTRK     &kp TILDE      &kp COLON          
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &sk LCTRL     &sk LALT      &sk LGUI      &sk LSHIFT     &kp LBKT         &kp RBKT      &kp DLLR      &kp PRCNT     &kp CARET     &kp PLUS 
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    XXX            XXX          XXX           XXX            &kp LBRC         &kp RBRC      &kp EXCL      &kp AT        &kp HASH      &kp PIPE         
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤   ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              ___           ___               &kp MINUS     &kp UNDER
//                                          ╰─────────────┴─────────────╯   ╰─────────────┴─────────────╯
)

ZMK_LAYER(Nav,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮ ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    WIN_CYCLE     &kp LG(W)     &kp LS(TAB)   &swapper      XXX             XXX           GO_BACK       &kp PG_UP     GO_FORWD      MT_DEL          
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    WIN_CYCLE_REV &sk LALT      &sk LGUI      &sk LSHIFT     XXX            NAV_LEFT      NAV_DOWN      NAV_UP       NAV_RIGHT      XXX      
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &kp LG(Q)     XXX           XXX           XXX           XXX             XXX           XXX           &kp PG_DN     XXX           CANCEL          
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              ___           ___             ___           ___
//                                          ╰─────────────┴─────────────╯ ╰─────────────┴─────────────╯
)

ZMK_LAYER(Fn,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮ ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    XXX           &kp C_PREV    &kp C_VOL_UP  &kp C_NEXT     XXX            XXX           &kp F7        &kp F8        &kp F9        &kp F12       
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &sk LCTRL     MUTE          VOL_DOWN      PLAY_PAUSE       XXX            XXX          &hmr RSHIFT F4 &hmr RGUI F5 &hmr LALT F6  &hmr RCTRL F11
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    XXX           XXX           CHATGPT       TRANSLATE      ALFRED         XXX           &kp F1        &kp F2        &kp F3        &kp F10       
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              ___            ___            ___           ___
//                                          ╰─────────────┴─────────────╯ ╰─────────────┴─────────────╯
)

ZMK_LAYER(Sys,
//╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮ ╭─────────────┬─────────────┬─────────────┬─────────────┬─────────────╮
    &bt BT_SEL 0  &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_SEL 3  &bt BT_CLR       XXX           XXX           XXX           XXX           XXX          
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &bootloader   XXX           XXX           XXX           XXX              XXX           XXX           XXX           XXX          &bootloader 
//├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┼─────────────┼─────────────┤
    &sys_reset    XXX           XXX           XXX           &mac_lock     XXX           XXX           XXX           XXX          &sys_reset 
//╰─────────────┴─────────────┴─────────────┼─────────────┼─────────────┤ ├─────────────┼─────────────┼─────────────┴─────────────┴─────────────╯
                                              ___           ___             ___           ___
//                                          ╰─────────────┴─────────────╯ ╰─────────────┴─────────────╯
)

/* vim: set ft=c tw=146: */
